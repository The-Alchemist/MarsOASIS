{"filter":false,"title":"server.js","tooltip":"/Test/server.js","ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"e523f59a433a421f3079ecc44d6a72b8e6f0c611","undoManager":{"mark":18,"position":18,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":57,"column":49},"action":"insert","lines":["//Loading modules","var http = require('http');","var fs = require('fs');","var path = require('path');","var b = require('bonescript');","","// Create a variable called led, which refers to P9_14","var led = \"P9_14\";","// Initialize the led as an OUTPUT","b.pinMode(led, b.OUTPUT);","","// Initialize the server on port 8888","var server = http.createServer(function (req, res) {","    // requesting files","    var file = '.'+((req.url=='/')?'/index.html':req.url);","    var fileExtension = path.extname(file);","    var contentType = 'text/html';","    // Uncoment if you want to add css to your web page","    /*","    if(fileExtension == '.css'){","        contentType = 'text/css';","    }*/","    fs.exists(file, function(exists){","        if(exists){","            fs.readFile(file, function(error, content){","                if(!error){","                    // Page found, write content","                    res.writeHead(200,{'content-type':contentType});","                    res.end(content);","                }","            })","        }","        else{","            // Page not found","            res.writeHead(404);","            res.end('Page not found');","        }","    })","}).listen(8888);","","// Loading socket io module","var io = require('socket.io').listen(server);","","// When communication is established","io.on('connection', function (socket) {","    socket.on('changeState', handleChangeState);","});","","// Change led state when a button is pressed","function handleChangeState(data) {","    var newData = JSON.parse(data);","    console.log(\"LED = \" + newData.state);","    // turns the LED ON or OFF","    b.digitalWrite(led, newData.state);","}","","// Displaying a console message for user feedback","server.listen(console.log(\"Server Running ...\"));"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":25},"end":{"row":10,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":0},"end":{"row":10,"column":25},"action":"insert","lines":["b.pinMode('USR1', 'out');"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":11},"end":{"row":7,"column":16},"action":"remove","lines":["P9_14"]},{"start":{"row":7,"column":11},"end":{"row":7,"column":15},"action":"insert","lines":["USR1"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":0},"end":{"row":10,"column":25},"action":"remove","lines":["b.pinMode('USR1', 'out');"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":18},"end":{"row":42,"column":19},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":19},"end":{"row":42,"column":20},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":20},"end":{"row":42,"column":21},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":21},"end":{"row":42,"column":22},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":22},"end":{"row":42,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":23},"end":{"row":42,"column":24},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":24},"end":{"row":42,"column":25},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":18},"end":{"row":42,"column":34},"action":"remove","lines":["socket/socket.io"]},{"start":{"row":42,"column":18},"end":{"row":42,"column":59},"action":"insert","lines":["http://192.168.7.2/socket.io/socket.io.js"]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":0},"end":{"row":9,"column":25},"action":"remove","lines":["b.pinMode(led, b.OUTPUT);"]},{"start":{"row":9,"column":0},"end":{"row":16,"column":26},"action":"insert","lines":["b.pinMode('USR0', 'out');","b.pinMode('USR1', 'out');","b.pinMode('USR2', 'out');","b.pinMode('USR3', 'out');","b.digitalWrite('USR0', 1);","b.digitalWrite('USR1', 1);","b.digitalWrite('USR2', 1);","b.digitalWrite('USR3', 1);"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":11},"end":{"row":7,"column":15},"action":"remove","lines":["USR1"]},{"start":{"row":7,"column":11},"end":{"row":7,"column":12},"action":"insert","lines":["P"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":12},"end":{"row":7,"column":13},"action":"insert","lines":["9"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":13},"end":{"row":7,"column":14},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":14},"end":{"row":7,"column":15},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":15},"end":{"row":7,"column":16},"action":"insert","lines":["4"]}]}]]},"timestamp":1425243230000}