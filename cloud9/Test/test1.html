<html>
<head>
	<script src="/bone101/static/bonescript-demo.js"></script>
</head>
<body>
<div id='connect-status'></div>

<p>Turn LEDs on: <button onclick="demoRun('led1')">run</button></p>
  <pre id="led1" style="display:none;">
var b=require('bonescript');
b.pinMode('USR0', 'out');
b.pinMode('USR1', 'out');
b.pinMode('USR2', 'out');
<!-- b.pinMode('USR3', 'out'); -->
b.digitalWrite('USR0', 1);
b.digitalWrite('USR1', 1);
b.digitalWrite('USR2', 1);
<!-- b.digitalWrite('USR3', 1); --></pre>
  <p>Turn LEDs off: <button onclick="demoRun('led2')">run</button></p>
  <pre id="led2">
var b=require('bonescript');
b.pinMode('USR0', 'out');
b.pinMode('USR1', 'out');
b.pinMode('USR2', 'out');
b.pinMode('USR3', 'out');
b.digitalWrite('USR0', 0);
b.digitalWrite('USR1', 0);
b.digitalWrite('USR2', 0);
b.digitalWrite('USR3', 0);</pre>
  <p>Restore LEDs to default state: <button onclick="demoRun('led3')">run</button></p>
  <pre id="led3">
var b = require('bonescript');
var p = '/sys/class/leds/beaglebone:green:usr';
b.digitalWrite('USR0', b.LOW);
b.digitalWrite('USR1', b.LOW);
b.digitalWrite('USR2', b.LOW);
b.digitalWrite('USR3', b.LOW);
resetUSR0();
function resetUSR0() {
    b.writeTextFile(p+'0/trigger', 'heartbeat', resetUSR1);
}
function resetUSR1() {
    b.writeTextFile(p+'1/trigger', 'mmc0', resetUSR2);
}
function resetUSR2() {
    b.writeTextFile(p+'2/trigger', 'cpu0', resetUSR3);
}
function resetUSR3() {
    b.writeTextFile(p+'3/trigger', 'mmc1', complete);
}
function complete() {
}</pre>
</body>
</html>